# Widget package template

Шаблонный репозиторий с CI для сборки TS-пакета в Gitlab npm registry

## Чтобы собрать этот проект в библиотеку, используйте:

```shell
npm run build
```

После этого все .js и .d.ts файлы появятся в папке `dist`.

## Как с этим работать?

1. Напишите ваш код в `./src`
2. Если хотите, напишите тесты в `./tests`. Они будут запускаться перед CI. Если они не прошли, новая версия не будет загружена.
3. Поменяйте путь до входного .js-файла проекта в папке `dist` в `package.json` -> `"main"`, и путь до .d.ts-файла типов в `package.json` -> `"types"`
4. Не забывайте менять версию библиотеки в `package.json` -> `"version"`. CI не сможет загрузить новые файлы под версией, которая уже существует.
5. CI запускается при пушах в ветку `master`, так что не работайте в мастере. Новые версии библиотеки заливайте через MR в мастер. (Можно, конечно, пушить в мастер, не меняя версию, CI будет проваливаться, а когда нужно - поменять версию, но так делать не стоит)
